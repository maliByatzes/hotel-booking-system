generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Guest {
  @@map(name: "guest")

  id              Int         @id @default(autoincrement())
  firstName       String      @map("first_name")  @db.VarChar(100)
  lastName        String      @map("last_name") @db.VarChar(100)
  emailAddress    String      @map("email_address") @unique @db.VarChar(255)
  phoneNumber     String      @map("phone_number") @unique @db.VarChar(20)
  verified        Boolean?    @default(false)

  password        String

  createdAt       DateTime    @map("created_at") @default(now())
  updatedAt       DateTime    @map("updated_at") @updatedAt

  bookings        Booking[]
}

model PaymentStatus {
  @@map(name: "payment_status")

  id                  Int         @id @default(autoincrement())
  paymentStatusName   String      @map("payment_status_name") @db.VarChar(50)
  bookings            Booking[]

  createdAt           DateTime    @map("created_at") @default(now())
  updatedAt           DateTime    @map("updated_at") @updatedAt
}

model Booking {
  @@map(name: "booking")

  id                Int           @id @default(autoincrement())
  guestId           Int           @map("guest_id")
  paymentStatusId   Int           @map("payment_status_id")
  checkinDate       DateTime      @map("checkin_date") @db.Date
  checkoutDate      DateTime      @map("checkout_date") @db.Date
  numAdults         Int           @map("num_adults")
  numChildren       Int           @map("num_children")
  bookingAmount     Int           @map("booking_amount")

  guest             Guest         @relation(fields: [guestId], references: [id])
  paymentStatus     PaymentStatus @relation(fields: [paymentStatusId], references: [id])

  createdAt         DateTime      @map("created_at") @default(now())
  updatedAt         DateTime      @map("updated_at") @updatedAt
}
